import{r as k,w as Y,a as S,o as c,c as O,b as _,d as V,e as i,n as U,f as r,g as M,h as b,t as N,T as F,p as Z,i as ee,j as te,k as J,u as D,F as B,l as L,m as oe,q as A,s as ae,v as le,x as se,y as ne,_ as ie,E as re,z as ue,A as de}from"./vendor.54087249.js";const ce=function(){const l=document.createElement("link").relList;if(l&&l.supports&&l.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))e(o);new MutationObserver(o=>{for(const n of o)if(n.type==="childList")for(const p of n.addedNodes)p.tagName==="LINK"&&p.rel==="modulepreload"&&e(p)}).observe(document,{childList:!0,subtree:!0});function s(o){const n={};return o.integrity&&(n.integrity=o.integrity),o.referrerpolicy&&(n.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?n.credentials="include":o.crossorigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function e(o){if(o.ep)return;o.ep=!0;const n=s(o);fetch(o.href,n)}};ce();var j=(d,l)=>{const s=d.__vccOpts||d;for(const[e,o]of l)s[e]=o;return s};const _e=d=>(Z("data-v-8c971328"),d=d(),ee(),d),pe={key:0,class:"modal"},fe={class:"modal_inner"},ve={class:"modal_content"},me={class:"form_group"},ke={class:"form_group"},ge=_e(()=>i("div",{class:"title"},"\u5099\u8A3B",-1)),ye={class:"modal_footer"},he=b("\u522A\u9664"),$e=b("\u95DC\u9589"),Ve={props:{is_open:{type:Boolean,default:!1,required:!0},is_create:{type:Boolean,default:!0},data:{type:Object,default:{},required:!1}},emits:["ticket_add","ticket_save","ticket_delete","modal_close"],setup(d,{emit:l}){const s=d,e=k({}),o=k(!1);Y(()=>{e.value=JSON.parse(JSON.stringify(s.data))});function n(){e.value.title.length===0?o.value=!0:(s.is_create?l("ticket_add",e.value):l("ticket_save",e.value),I())}function p(){l("ticket_delete",e.value),I()}function C(){l("modal_close"),I()}function I(){e.value={},o.value=!1}return(y,u)=>{const g=S("el-input"),f=S("el-button");return c(),O(F,{name:"fade"},{default:_(()=>[s.is_open?(c(),V("div",pe,[i("div",fe,[i("div",ve,[i("div",me,[i("div",{class:U(["title required",{has_error:o.value}])},"\u4E8B\u9805",2),r(g,{modelValue:e.value.title,"onUpdate:modelValue":u[0]||(u[0]=$=>e.value.title=$),maxlength:"50"},null,8,["modelValue"])]),i("div",ke,[ge,r(g,{modelValue:e.value.remark,"onUpdate:modelValue":u[1]||(u[1]=$=>e.value.remark=$),maxlength:"500",type:"textarea",rows:2},null,8,["modelValue"])])]),i("div",ye,[d.is_create?M("",!0):(c(),O(f,{key:0,type:"danger",onClick:u[2]||(u[2]=$=>p())},{default:_(()=>[he]),_:1})),r(f,{type:"primary",onClick:u[3]||(u[3]=$=>n())},{default:_(()=>[b(N(s.is_create?"\u65B0\u589E":"\u4FDD\u5B58"),1)]),_:1}),r(f,{type:"primary",onClick:u[4]||(u[4]=$=>C())},{default:_(()=>[$e]),_:1})])])])):M("",!0)]),_:1})}}};var Se=j(Ve,[["__scopeId","data-v-8c971328"]]);const be={key:0,class:"modal"},Ce={class:"modal_inner"},Ie={class:"modal_content"},we={class:"form_group"},Te={class:"modal_footer"},De=b("\u65B0\u589E"),Ne=b("\u95DC\u9589"),Oe={props:{is_open:{type:Boolean,default:!1,required:!0}},emits:["status_add","modal_close"],setup(d,{emit:l}){const s=d,e=k(""),o=k(!1);function n(){e.value.length===0?o.value=!0:(l("status_add",e.value),C())}function p(){l("modal_close"),C()}function C(){e.value="",o.value=!1}return(I,y)=>{const u=S("el-input"),g=S("el-button");return c(),O(F,{name:"fade"},{default:_(()=>[s.is_open?(c(),V("div",be,[i("div",Ce,[i("div",Ie,[i("div",we,[i("div",{class:U(["title required",{has_error:o.value}])},"\u72C0\u614B",2),r(u,{modelValue:e.value,"onUpdate:modelValue":y[0]||(y[0]=f=>e.value=f),maxlength:"50"},null,8,["modelValue"])])]),i("div",Te,[r(g,{type:"primary",onClick:y[1]||(y[1]=f=>n())},{default:_(()=>[De]),_:1}),r(g,{type:"primary",onClick:y[2]||(y[2]=f=>p())},{default:_(()=>[Ne]),_:1})])])])):M("",!0)]),_:1})}}};var xe=j(Oe,[["__scopeId","data-v-3dc8d878"]]);const Be={class:"header"},Me=b("\u65B0\u589E\u4E8B\u9805"),qe=b("\u65B0\u589E\u72C0\u614B"),Ee=b("\u6E05\u7A7A\u4E8B\u9805"),Je={class:"container"},Le=["onDrop"],Ae={class:"status_title"},Ue={key:1},Fe=["onDragstart","onClick"],je={class:"plan_list_title"},ze={setup(d){const l=k(["\u5F85\u8FA6\u4E8B\u9805","\u9032\u884C\u4E2D","\u5DF2\u5B8C\u6210"]),s=k([!1,!1,!1]),e=k([]);te(()=>{localStorage.getItem("status")&&(l.value=JSON.parse(localStorage.getItem("status"))),localStorage.getItem("tickets")&&(e.value=JSON.parse(localStorage.getItem("tickets")))}),J(l,(a,t)=>{localStorage.setItem("status",JSON.stringify(l.value))},{deep:!0}),J(e,(a,t)=>{localStorage.setItem("tickets",JSON.stringify(e.value))},{deep:!0});const o=k(!1),n=k(!0),p=k({});function C(a=!0,t={}){o.value=!0,a||(p.value=t,n.value=!1)}function I(a){var w;g();const h={id:e.value.length+1,title:a.title,remark:(w=a.remark)!=null?w:"",list:1};e.value.push(h)}function y(a){g(),e.value.forEach(t=>{t.id===a.id&&Object.assign(t,a)})}function u(a){g(),e.value=e.value.filter(t=>t.id!==a.id)}function g(){o.value=!1,n.value=!0,p.value={}}const f=k(!1);function $(){f.value=!0}function P(a){q(),l.value.push(a),s.value.push(!1)}function q(){f.value=!1}function K(a){return e.value.filter(t=>t.list==a)}function G(a,t){a.dataTransfer.dropEffect="move",a.dataTransfer.effectAllowed="move",a.dataTransfer.setData("listID",t.id)}function H(a,t){const h=a.dataTransfer.getData("listID"),w=e.value.find(x=>x.id==h);w.list=t}function Q(){e.value=[]}function R(a){re.confirm("\u78BA\u5B9A\u8981\u522A\u9664\u6B64\u72C0\u614B\u55CE\uFF1F\u5E95\u4E0B\u6240\u6709\u4E8B\u9805\u4E5F\u5C07\u6703\u88AB\u6E05\u9664\uFF01","\u522A\u9664",{confirmButtonText:"\u78BA\u5B9A",cancelButtonText:"\u53D6\u6D88",type:"warning"}).then(()=>{l.value.splice(a,1),s.value.splice(a,1),e.value=e.value.filter(t=>t.id!==a+1)}).catch(()=>{})}function W(a,t){s.value[a]=t}return(a,t)=>{const h=S("el-button"),w=S("el-popconfirm"),x=S("el-input"),X=S("el-button-group");return c(),V(B,null,[i("div",Be,[r(h,{type:"primary",onClick:t[0]||(t[0]=T=>C())},{default:_(()=>[Me]),_:1}),r(h,{type:"primary",onClick:t[1]||(t[1]=T=>$())},{default:_(()=>[qe]),_:1}),r(w,{"confirm-button-text":"\u78BA\u5B9A","cancel-button-text":"\u53D6\u6D88",icon:D(oe),"icon-color":"red",title:"\u78BA\u5B9A\u8981\u6E05\u7A7A\u6240\u6709\u4E8B\u9805\u55CE\uFF1F",onConfirm:t[2]||(t[2]=T=>Q())},{reference:_(()=>[r(h,null,{default:_(()=>[Ee]),_:1})]),_:1},8,["icon"])]),i("div",Je,[(c(!0),V(B,null,L(l.value,(T,v)=>(c(),V("div",{class:"plan_board",key:`plan_board_${v}`,onDrop:m=>H(m,v+1),onDragenter:t[3]||(t[3]=A(()=>{},["prevent"])),onDragover:t[4]||(t[4]=A(()=>{},["prevent"]))},[i("div",Ae,[s.value[v]?(c(),O(x,{key:0,modelValue:l.value[v],"onUpdate:modelValue":m=>l.value[v]=m,maxlength:"50"},null,8,["modelValue","onUpdate:modelValue"])):(c(),V("span",Ue,N(T),1)),r(X,null,{default:_(()=>[r(h,{type:"text",icon:s.value[v]?D(ae):D(le),onClick:m=>W(v,!s.value[v])},null,8,["icon","onClick"]),se(r(h,{type:"text",icon:D(ie),onClick:m=>R(v)},null,8,["icon","onClick"]),[[ne,!s.value[v]]])]),_:2},1024)]),(c(!0),V(B,null,L(K(v+1),m=>(c(),V("div",{class:"plan_list",key:m.id,draggable:"true",onDragstart:E=>G(E,m),onClick:E=>C(!1,m)},[i("span",je,N(m.title),1),i("span",null,N(m.id),1)],40,Fe))),128))],40,Le))),128))]),r(Se,{is_open:o.value,is_create:n.value,data:p.value,onTicket_add:I,onTicket_save:y,onTicket_delete:u,onModal_close:g},null,8,["is_open","is_create","data"]),r(xe,{is_open:f.value,onStatus_add:P,onModal_close:q},null,8,["is_open"])],64)}}},z=ue(ze);z.use(de);z.mount("#app");
