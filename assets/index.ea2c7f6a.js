import{r as g,w as Y,a as V,o as c,c as D,b as _,d as S,e as i,n as A,f as r,g as J,h as b,t as T,T as F,p as Z,i as ee,j as M,u as w,F as B,k as L,l as te,m as U,q as oe,s as ae,v as le,x as se,_ as ne,E as ie,y as re,z as ue}from"./vendor.17d5af25.js";const de=function(){const l=document.createElement("link").relList;if(l&&l.supports&&l.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))e(o);new MutationObserver(o=>{for(const n of o)if(n.type==="childList")for(const p of n.addedNodes)p.tagName==="LINK"&&p.rel==="modulepreload"&&e(p)}).observe(document,{childList:!0,subtree:!0});function s(o){const n={};return o.integrity&&(n.integrity=o.integrity),o.referrerpolicy&&(n.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?n.credentials="include":o.crossorigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function e(o){if(o.ep)return;o.ep=!0;const n=s(o);fetch(o.href,n)}};de();var j=(d,l)=>{const s=d.__vccOpts||d;for(const[e,o]of l)s[e]=o;return s};const ce=d=>(Z("data-v-8c971328"),d=d(),ee(),d),_e={key:0,class:"modal"},pe={class:"modal_inner"},fe={class:"modal_content"},ve={class:"form_group"},me={class:"form_group"},ge=ce(()=>i("div",{class:"title"},"\u5099\u8A3B",-1)),ke={class:"modal_footer"},ye=b("\u522A\u9664"),he=b("\u95DC\u9589"),$e={props:{is_open:{type:Boolean,default:!1,required:!0},is_create:{type:Boolean,default:!0},data:{type:Object,default:{},required:!1}},emits:["ticket_add","ticket_save","ticket_delete","modal_close"],setup(d,{emit:l}){const s=d,e=g({}),o=g(!1);Y(()=>{e.value=JSON.parse(JSON.stringify(s.data))});function n(){e.value.title.length===0?o.value=!0:(s.is_create?l("ticket_add",e.value):l("ticket_save",e.value),I())}function p(){l("ticket_delete",e.value),I()}function C(){l("modal_close"),I()}function I(){e.value={},o.value=!1}return(y,u)=>{const k=V("el-input"),f=V("el-button");return c(),D(F,{name:"fade"},{default:_(()=>[s.is_open?(c(),S("div",_e,[i("div",pe,[i("div",fe,[i("div",ve,[i("div",{class:A(["title required",{has_error:o.value}])},"\u4E8B\u9805",2),r(k,{modelValue:e.value.title,"onUpdate:modelValue":u[0]||(u[0]=$=>e.value.title=$),maxlength:"50"},null,8,["modelValue"])]),i("div",me,[ge,r(k,{modelValue:e.value.remark,"onUpdate:modelValue":u[1]||(u[1]=$=>e.value.remark=$),maxlength:"500",type:"textarea",rows:2},null,8,["modelValue"])])]),i("div",ke,[d.is_create?J("",!0):(c(),D(f,{key:0,type:"danger",onClick:u[2]||(u[2]=$=>p())},{default:_(()=>[ye]),_:1})),r(f,{type:"primary",onClick:u[3]||(u[3]=$=>n())},{default:_(()=>[b(T(s.is_create?"\u65B0\u589E":"\u4FDD\u5B58"),1)]),_:1}),r(f,{type:"primary",onClick:u[4]||(u[4]=$=>C())},{default:_(()=>[he]),_:1})])])])):J("",!0)]),_:1})}}};var Se=j($e,[["__scopeId","data-v-8c971328"]]);const Ve={key:0,class:"modal"},be={class:"modal_inner"},Ce={class:"modal_content"},Ie={class:"form_group"},Ne={class:"modal_footer"},Oe=b("\u65B0\u589E"),we=b("\u95DC\u9589"),Te={props:{is_open:{type:Boolean,default:!1,required:!0}},emits:["status_add","modal_close"],setup(d,{emit:l}){const s=d,e=g(""),o=g(!1);function n(){e.value.length===0?o.value=!0:(l("status_add",e.value),C())}function p(){l("modal_close"),C()}function C(){e.value="",o.value=!1}return(I,y)=>{const u=V("el-input"),k=V("el-button");return c(),D(F,{name:"fade"},{default:_(()=>[s.is_open?(c(),S("div",Ve,[i("div",be,[i("div",Ce,[i("div",Ie,[i("div",{class:A(["title required",{has_error:o.value}])},"\u72C0\u614B",2),r(u,{modelValue:e.value,"onUpdate:modelValue":y[0]||(y[0]=f=>e.value=f),maxlength:"50"},null,8,["modelValue"])])]),i("div",Ne,[r(k,{type:"primary",onClick:y[1]||(y[1]=f=>n())},{default:_(()=>[Oe]),_:1}),r(k,{type:"primary",onClick:y[2]||(y[2]=f=>p())},{default:_(()=>[we]),_:1})])])])):J("",!0)]),_:1})}}};var De=j(Te,[["__scopeId","data-v-3dc8d878"]]);const xe={class:"header"},Be=b("\u65B0\u589E\u4E8B\u9805"),Je=b("\u65B0\u589E\u72C0\u614B"),qe=b("\u6E05\u7A7A\u4E8B\u9805"),Ee={class:"container"},Me=["onDrop"],Le={class:"status_title"},Ue={key:1},Ae=["onDragstart","onClick"],Fe={class:"plan_list_title"},je={setup(d){const l=g(["\u5F85\u8FA6\u4E8B\u9805","\u9032\u884C\u4E2D","\u5DF2\u5B8C\u6210"]),s=g([!1,!1,!1]),e=g([]);localStorage.setItem("status",JSON.stringify(l.value)),localStorage.setItem("tickets",JSON.stringify(e.value)),localStorage.getItem("status")&&(l.value=JSON.parse(localStorage.getItem("status"))),localStorage.getItem("tickets")&&(e.value=JSON.parse(localStorage.getItem("tickets"))),M(l,(a,t)=>{localStorage.setItem("status",JSON.stringify(l.value))},{deep:!0}),M(e,(a,t)=>{localStorage.setItem("tickets",JSON.stringify(e.value))},{deep:!0});const o=g(!1),n=g(!0),p=g({});function C(a=!0,t={}){o.value=!0,a||(p.value=t,n.value=!1)}function I(a){var N;k();const h={id:e.value.length+1,title:a.title,remark:(N=a.remark)!=null?N:"",list:1};e.value.push(h)}function y(a){k(),e.value.forEach(t=>{t.id===a.id&&Object.assign(t,a)})}function u(a){k(),e.value=e.value.filter(t=>t.id!==a.id)}function k(){o.value=!1,n.value=!0,p.value={}}const f=g(!1);function $(){f.value=!0}function P(a){q(),l.value.push(a),s.value.push(!1)}function q(){f.value=!1}function K(a){return e.value.filter(t=>t.list==a)}function G(a,t){a.dataTransfer.dropEffect="move",a.dataTransfer.effectAllowed="move",a.dataTransfer.setData("listID",t.id)}function H(a,t){const h=a.dataTransfer.getData("listID"),N=e.value.find(x=>x.id==h);N.list=t}function Q(){e.value=[]}function R(a){ie.confirm("\u78BA\u5B9A\u8981\u522A\u9664\u6B64\u72C0\u614B\u55CE\uFF1F\u5E95\u4E0B\u6240\u6709\u4E8B\u9805\u4E5F\u5C07\u6703\u88AB\u6E05\u9664\uFF01","\u522A\u9664",{confirmButtonText:"\u78BA\u5B9A",cancelButtonText:"\u53D6\u6D88",type:"warning"}).then(()=>{l.value.splice(a,1),s.value.splice(a,1),e.value=e.value.filter(t=>t.id!==a+1)}).catch(()=>{})}function W(a,t){s.value[a]=t}return(a,t)=>{const h=V("el-button"),N=V("el-popconfirm"),x=V("el-input"),X=V("el-button-group");return c(),S(B,null,[i("div",xe,[r(h,{type:"primary",onClick:t[0]||(t[0]=O=>C())},{default:_(()=>[Be]),_:1}),r(h,{type:"primary",onClick:t[1]||(t[1]=O=>$())},{default:_(()=>[Je]),_:1}),r(N,{"confirm-button-text":"\u78BA\u5B9A","cancel-button-text":"\u53D6\u6D88",icon:w(te),"icon-color":"red",title:"\u78BA\u5B9A\u8981\u6E05\u7A7A\u6240\u6709\u4E8B\u9805\u55CE\uFF1F",onConfirm:t[2]||(t[2]=O=>Q())},{reference:_(()=>[r(h,null,{default:_(()=>[qe]),_:1})]),_:1},8,["icon"])]),i("div",Ee,[(c(!0),S(B,null,L(l.value,(O,v)=>(c(),S("div",{class:"plan_board",key:`plan_board_${v}`,onDrop:m=>H(m,v+1),onDragenter:t[3]||(t[3]=U(()=>{},["prevent"])),onDragover:t[4]||(t[4]=U(()=>{},["prevent"]))},[i("div",Le,[s.value[v]?(c(),D(x,{key:0,modelValue:l.value[v],"onUpdate:modelValue":m=>l.value[v]=m,maxlength:"50"},null,8,["modelValue","onUpdate:modelValue"])):(c(),S("span",Ue,T(O),1)),r(X,null,{default:_(()=>[r(h,{type:"text",icon:s.value[v]?w(oe):w(ae),onClick:m=>W(v,!s.value[v])},null,8,["icon","onClick"]),le(r(h,{type:"text",icon:w(ne),onClick:m=>R(v)},null,8,["icon","onClick"]),[[se,!s.value[v]]])]),_:2},1024)]),(c(!0),S(B,null,L(K(v+1),m=>(c(),S("div",{class:"plan_list",key:m.id,draggable:"true",onDragstart:E=>G(E,m),onClick:E=>C(!1,m)},[i("span",Fe,T(m.title),1),i("span",null,T(m.id),1)],40,Ae))),128))],40,Me))),128))]),r(Se,{is_open:o.value,is_create:n.value,data:p.value,onTicket_add:I,onTicket_save:y,onTicket_delete:u,onModal_close:k},null,8,["is_open","is_create","data"]),r(De,{is_open:f.value,onStatus_add:P,onModal_close:q},null,8,["is_open"])],64)}}},z=re(je);z.use(ue);z.mount("#app");
